<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title or metadata.title }}</title>
    <meta name="description" content="{{ description or metadata.description }}">
    <link rel="stylesheet" href="{{ '/css/index.css' | url }}">
    <link rel="stylesheet" href="{{ '/css/syntax.css' | url }}">
    <link rel="alternate" href="{{ metadata.feed.path | url }}" type="application/atom+xml" title="{{ metadata.title }}">
    <link rel="alternate" href="{{ metadata.jsonfeed.path | url }}" type="application/json" title="{{ metadata.title }}">
  </head>
  <body class="body">
    <header class="header">
      <h2><a href="{{ '/' | url }}" class="title">{{ metadata.title }}</a></h2>

      <nav class="nav">
        {% set postsByYear = collections.postsByYear %}
        <ul>
          {% for postYear in postsByYear %}
            <li>
              <span class="bold">{{postYear.year}}</span>
              <ul class="nav__year" reversed>
                {% for project in postYear.projects | reverse  %}
                  <li>
                    <a href="{{ project.url | url }}" {% if project.url == url %}class="bold"{% endif %}>
                      {% if project.data.title %}
                        {{ project.data.title }}
                      {% else %}
                        <code>{{ project.url }}</code>
                      {% endif %}
                    </a>
                  </li>
                {% endfor %}
              </ul>
            </li>
          {% endfor %}
        </ul>
      </nav>
    </header>

    <main class="main{% if templateClass %} {{ templateClass }}{% endif %}">
      {{ content | safe }}
    </main>
  </body>
</html>
